RewriteEngine On

# With JSON the module is constant, this is remote, allow get.json, get-what=user&term=Mi.json
RewriteRule ^([^\=\&\-]+)(?:\-([^=\-]+=.+))?\.json$ index.php?module=remote&action=$1&format=json&$2&%{QUERY_STRING} [L,E=json:1]

# With HTML the module is variable, allow home.html, users-create.html, users-edit-u=5.html
RewriteRule ^([a-zA-Z0-9_]+)(?:\-([^\=\&\-]+))?(?:\-([^=\-]+=.+))?\.html$ index.php?module=$1&format=html&action=$2&$3&%{QUERY_STRING} [L,E=rewritten:1]
